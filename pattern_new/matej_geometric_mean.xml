<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<pattern>
	<name>Matej Geometric Mean</name>
	<description>
		To avoid taking of a logarithm of a zero or negative value, we consider only positive values.

		However, we should for such sets return zero!!!:
			http://math.stackexchange.com/questions/91443/geometric-mean-of-a-dataset-containing-0s

		But different approaches exist:
			http://www.wwdmag.com/channel/casestudies/handling-zeros-geometric-mean-calculation
	</description>
	<example>

	</example>
	<author>Matej Polak</author>
	<date>2017-01-16</date>
	<code compatibility="MySQL,PostgreSQL">
		SELECT @base,
			EXP(AVG(LN(@numericalColumn))) AS @columnName
		FROM @propagatedTable
		WHERE @numericalColumn > 0
		GROUP BY @base
	</code>
	<cardinality>n</cardinality>
</pattern>
