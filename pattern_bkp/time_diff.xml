<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<pattern>
	<name>Time diff</name>
	<description>
		Aggregated difference between two temporal attributes.
	</description>
	<example>
		Average session length, i.e. how long did the customer spend browsing our web pages on average.
	</example>
	<author>Jan Motl</author>
	<date>2015-04-16</date>
	<code>SELECT @base
	           , @aggregateFunction(DATEDIFF(@timeColumn1, @timeColumn2)) AS @columnName
	      FROM @propagatedTable
	      GROUP BY @base
	</code>
	<parameter key="@aggregateFunction" value="min, max, avg, sum, stddev_samp"/>
	<cardinality>n</cardinality>
</pattern>