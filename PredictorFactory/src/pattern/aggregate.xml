<?xml version="1.0" encoding="utf-8" standalone="yes"?>

<pattern>
	<name>Aggregate</name>
	<description>
		Apply aggregation function on numerical attributes. Following aggregate functions were selected for being 
		supported in many databases: avg, min, max and stddev. 
		
		Note that "count" attribute is not in the set as it is enough to calculate the count only once per table 
		(see num_children). But aggregate functions are calculated per each numerical column. 
		
		The count of missing values is calculated in a separate pattern as it can be calculated on any data column, not
		only on numerical columns. 		
	</description>
	<author>Jan Motl</author>
	<date>2014-10-14</date>
	<code>SELECT @baseId
			   , @baseDate
			   , @baseTarget
			   , @aggregateFunction(@numericalColumn) "@columnName"
	      FROM @propagatedTable
	      GROUP BY @baseId, @baseDate, @baseTarget
	</code>
    <parameter key="@aggregateFunction" value="avg, min, max, stddev"/>
	<cardinality>n</cardinality>
</pattern>
